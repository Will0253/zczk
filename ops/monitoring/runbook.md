# 故障排查与应急响应流程

## 快速检查清单
1. 查看容器状态与日志：docker compose -f ops/docker/docker-compose.prod.yml ps / logs
2. 验证健康检查：/healthz 与 /api/healthz
3. 检查证书状态与续期日志
4. 核对数据库连接与资源使用

## 常见场景

### 1) 健康检查失败
- 查看前端与后端容器日志
- 确认 Nginx 代理配置与端口
- 检查依赖服务（数据库）是否健康

### 2) 证书问题
- 检查证书文件是否存在
- 运行 certbot 续期脚本并重载 Nginx

### 3) 数据库连接异常
- 核对 POSTGRES_* 与 DATABASE_* 环境变量
- 检查数据库容器健康状态

## 应急响应
1. 评估影响范围并通知值班人员
2. 必要时执行回滚脚本
3. 复测健康检查
4. 记录事故与改进项
