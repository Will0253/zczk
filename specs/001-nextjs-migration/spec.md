# Feature Specification: Next.js App Router 迁移

**Feature Branch**: `001-nextjs-migration`  
**Created**: 2026-01-18  
**Status**: Draft  
**Input**: 将现有的ZCZK智能交通安全网站迁移到采用App Router和混合渲染模式的Next.js应用程序。迁移必须精确保留所有视觉设计元素，包括颜色、字体、图标、间距、视觉风格、布局结构和交互效果等。

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 首页访问体验 (Priority: P1)

作为网站访问者，我希望访问ZCZK首页时能快速加载并看到完整的品牌展示内容，包括英雄区域、业务场景、产品矩阵、技术实力、案例研究、服务介绍和新闻动态等模块，同时享受流畅的滚动动画效果。

**Why this priority**: 首页是网站的门户，承载品牌形象展示和用户第一印象，直接影响转化率和用户留存。

**Independent Test**: 可通过访问根路径并验证所有首页模块正确渲染、动画正常触发、页面加载时间符合性能标准来独立测试。

**Acceptance Scenarios**:

1. **Given** 用户首次访问网站, **When** 页面加载完成, **Then** 首页在2秒内完成首屏渲染，显示导航栏和英雄区域
2. **Given** 用户在首页向下滚动, **When** 各模块进入视口, **Then** 各模块按预期触发淡入和缩放动画效果
3. **Given** 搜索引擎爬虫访问首页, **When** 解析页面内容, **Then** 能够正确索引页面标题、描述和主要内容

---

### User Story 2 - 产品浏览与详情查看 (Priority: P1)

作为潜在客户，我希望能够浏览产品中心页面，查看所有产品列表，并点击进入产品详情页查看具体产品信息，以便了解中创智控的产品线。

**Why this priority**: 产品展示是企业官网核心转化路径，直接影响销售线索获取。

**Independent Test**: 可通过访问产品列表页、点击产品卡片进入详情页并验证内容完整性来独立测试。

**Acceptance Scenarios**:

1. **Given** 用户访问产品中心页面, **When** 页面加载完成, **Then** 显示所有产品分类和产品卡片
2. **Given** 用户点击智能锥桶产品, **When** 导航到 `/products/smart-cone`, **Then** 显示该产品的详细信息页面
3. **Given** 用户从产品详情页返回, **When** 点击浏览器后退按钮, **Then** 返回产品列表页且滚动位置保持

---

### User Story 3 - 解决方案了解 (Priority: P2)

作为行业决策者，我希望能够浏览解决方案页面，了解中创智控在不同场景下的解决方案，并深入查看高速公路安全解决方案详情。

**Why this priority**: 解决方案展示建立专业形象，帮助潜在客户理解产品应用价值。

**Independent Test**: 可通过访问解决方案列表页和详情页验证内容展示和导航功能来独立测试。

**Acceptance Scenarios**:

1. **Given** 用户访问解决方案页面, **When** 页面加载完成, **Then** 显示各行业解决方案概览
2. **Given** 用户点击高速公路安全解决方案, **When** 导航到详情页, **Then** 显示完整的解决方案介绍

---

### User Story 4 - 资讯阅读 (Priority: P2)

作为行业关注者，我希望能够浏览资讯中心的新闻列表，并阅读新闻详情，了解中创智控的最新动态和行业观点。

**Why this priority**: 资讯内容对SEO和品牌传播至关重要，支持搜索引擎收录和社交分享。

**Independent Test**: 可通过访问资讯列表页、点击进入详情页并验证文章内容渲染来独立测试。

**Acceptance Scenarios**:

1. **Given** 用户访问资讯中心, **When** 页面加载完成, **Then** 显示新闻列表和分类筛选
2. **Given** 用户点击5G智能锥桶新闻, **When** 导航到 `/news/5g-smart-cone`, **Then** 显示完整的新闻详情包括侧边栏

---

### User Story 5 - 响应式移动端体验 (Priority: P2)

作为移动设备用户，我希望在手机或平板上访问网站时，能够获得适配的布局和交互体验，包括移动端导航菜单。

**Why this priority**: 移动端流量占比高，响应式设计是现代网站基本要求。

**Independent Test**: 可通过不同设备尺寸访问各页面并验证布局适配来独立测试。

**Acceptance Scenarios**:

1. **Given** 用户在移动设备上访问网站, **When** 页面加载完成, **Then** 显示汉堡菜单按钮替代桌面导航
2. **Given** 用户点击移动端菜单按钮, **When** 菜单展开, **Then** 显示带动画效果的移动端导航菜单

---

### User Story 6 - 联系与关于页面访问 (Priority: P3)

作为有合作意向的访客，我希望能够访问联系我们和关于我们页面，获取公司联系方式和企业介绍信息。

**Why this priority**: 这些页面支持销售转化和品牌信任建立，但相对独立于核心业务流程。

**Independent Test**: 可通过访问 `/contact` 和 `/about` 页面并验证内容完整性来独立测试。

**Acceptance Scenarios**:

1. **Given** 用户访问联系我们页面, **When** 页面加载完成, **Then** 显示联系表单和公司联系信息
2. **Given** 用户访问关于我们页面, **When** 页面加载完成, **Then** 显示公司介绍、团队和发展历程

---

### Edge Cases

- 当用户访问不存在的产品或新闻详情路径时，如何处理？（显示404页面并提供返回导航）
- 当图片加载失败时，如何显示占位内容？（使用ImageWithFallback组件的回退机制）
- 当用户网络较慢时，如何保证基本内容可见？（服务端渲染确保首屏内容即时可用）
- 当JavaScript禁用时，页面是否仍可访问？（静态/服务端渲染内容保持可访问）

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 系统必须将现有React/Vite应用迁移至Next.js 14+ App Router架构
- **FR-002**: 系统必须保留所有6个主要页面：首页、产品中心、解决方案、资讯中心、联系我们、关于我们
- **FR-003**: 系统必须支持产品详情页的动态路由 (`/products/[slug]`)
- **FR-004**: 系统必须支持资讯详情页的动态路由 (`/news/[slug]`)
- **FR-005**: 系统必须支持解决方案详情页的动态路由 (`/solutions/[slug]`)
- **FR-006**: 系统必须保留所有现有的Motion动画效果，包括滚动触发动画和交互动画
- **FR-007**: 系统必须保留全局滚动进度条功能
- **FR-008**: 系统必须保留响应式导航组件，包括桌面端菜单和移动端汉堡菜单
- **FR-009**: 系统必须精确保留现有的品牌色彩（#11345b 深蓝色、#fdbd00 金色）
- **FR-010**: 系统必须保留所有现有的Tailwind CSS样式和CSS变量主题配置
- **FR-011**: 系统必须保留所有Radix UI组件的功能和样式
- **FR-012**: 系统必须为静态页面（首页、关于我们、联系我们）采用静态生成（SSG）
- **FR-013**: 系统必须为列表页面（产品中心、资讯中心、解决方案）支持服务端渲染（SSR）或增量静态再生成（ISR）
- **FR-014**: 系统必须为交互组件（如导航、动画）使用客户端渲染
- **FR-015**: 系统必须为所有页面提供SEO友好的元数据（title、description、og tags）
- **FR-016**: 系统必须保留ScrollToTop组件的页面切换时滚动到顶部功能
- **FR-017**: 系统必须保留ImageWithFallback组件的图片回退功能

### Key Entities

- **Page（页面）**: 网站的各个页面单元，包含路由路径、元数据、渲染策略属性
- **Component（组件）**: 可复用的UI组件，分为服务端组件和客户端组件
- **Route（路由）**: 基于文件系统的路由配置，支持静态段和动态段
- **Layout（布局）**: 共享布局组件，包含导航和页脚
- **Theme（主题）**: CSS变量和Tailwind配置定义的视觉主题

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 首页首屏加载时间（LCP）在3G网络下不超过2.5秒
- **SC-002**: Lighthouse性能评分达到90分以上
- **SC-003**: 所有页面在搜索引擎爬虫视角下（禁用JavaScript）仍可访问主要内容
- **SC-004**: 现有所有动画效果在迁移后100%保留，无视觉差异
- **SC-005**: 响应式断点（手机、平板、桌面）布局与现有网站完全一致
- **SC-006**: 所有页面的品牌色彩（#11345b、#fdbd00）保持不变
- **SC-007**: 用户完成从首页到产品详情页的导航路径不超过3次点击
- **SC-008**: 页面切换动画流畅度保持60fps以上
- **SC-009**: 所有内部链接在导航后保持浏览历史记录可用（支持前进后退）
- **SC-010**: 移动端导航菜单展开/收起动画与现有效果一致

## Assumptions

- 假设目标Next.js版本为14.x或更高版本，支持App Router和React Server Components
- 假设Motion库（原Framer Motion）与Next.js App Router兼容
- 假设现有静态资源（图片、字体）将迁移至Next.js的public目录或使用next/image优化
- 假设Tailwind CSS 4.x将继续使用，配置需适配Next.js构建流程
- 假设不引入后端数据库，内容数据继续以静态方式管理
- 假设保留pnpm作为包管理器
